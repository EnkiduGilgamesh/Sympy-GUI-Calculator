# 高数计算器

## 基本运算

| 运算 | 计算符号 | 示例 |
| --- | --- | --- |
| 加法 | `+` | `a+b` |
| 减法 | `-` | `a-b` |
| 乘法 | `*` | `a*b` |
| 除法 | `/` | `a/b` |
| 乘方 | `**` | `a**b` |

实例，输入表达式

$(1+2-3\times 4)\div 5^2$

```python
(1+2-3*4)/5**2
```

优先级规则

* 乘方运算优先级最高，其次是乘法和除法，最后是加法和减法；
* 同等优先级从左往右以此进行运算；
* 括号内的优先进行计算。

计算器的表达式规则和 Python 语言相同。

## 符号

代表表达式中的变量的字母称为常量，本计算器中支持 `a` ~ `z` 26个小写拉丁字母和除 `E` 外的 25 个大写拉丁字母作为变量。

如果表达式中有变量，请在 Symbols 这一输入框中输入表达式中的**所有**变量。否则计算器将无法正常工作。

## 常量和常用函数

数学中一些常用常量可以用语法表示为

| 常量 | 语法 |
| --- | --- |
| 圆周率 $\pi$ | `pi` |
| 自然对数 $\mathrm{e}$ | `E` |
| 无穷大 $\infty$ | `oo` |

一些常用到的函数为

| 函数 | 语法 |
| --- | --- |
| $n$ 的平方根 | `sqrt(n)` |
| $n$ 的 $m$ 次方根 | `root(n,m)` |
| 三角函数 | `sin(...)` |
| | `cos(...)` |
| | `tan(...)` |
| 反三角函数 | `asin(...)` |
| | `acos(...)` |
| | `atan(...)` |
| 双曲函数 | `sinh(...)` |
| | `cosh(...)` |
| | `tanh(...)` |
| 对数 | `log(...)` |

注意，**对数默认是以 $\mathrm{e}$ 为底的对数，如果是以其他数为底，请使用换底公式**：

$$
\log_a b = \frac{\ln b}{\ln a}
$$

## 求导

求导计算方法为

1. 在 Input 中输入要求导的函数表达式；
2. 在 Symbols 中输入所有表达式中存在的变量，变量之间使用空格分隔开；
3. 在求导顺序中按照求导顺序依此将求导的变量列出，变量之间用空格分隔开。

示例，计算 $f'(x)$，其中

$$
f(x) = (2e^{\frac{1}{\tan x}})\sin (2x)^2
$$


我们在 Input 中输入

```python
(2*E**(1/tan(x)))*sin(2*x)**2
```

在 Symbols 中输入

```
x
```

在求导顺序中输入

```
x
```

点击 Derivate 即可获得结果。

## 积分

积分的计算方法和导数类似，请看下面示例

计算积分

$$
\int^1_0 \mathrm{d}x \int^{x}_{x^2} (x^2 + y^2)^{-\frac{1}{2}}\mathrm{d}y
$$

在 Input 中输入

```python
(x**2+y**2)**(-1/2)
```

在 Symbols 中输入

```
x y
```

在积分区间中输入

```
(y,x**2,x) (x,0,1)
```

最后点击 Integrate。

积分区间的格式为 `(积分符号，积分下限，积分上限)`，注意，**括号内不要使用空格分隔积分符号、积分上限和积分下限，括号之间使用空格分开不同的积分符号**。括号中上下限的表达式也适用于 Input 中表达式的语法。

## 极限

极限求值示例，计算

$$
\lim_{x\to \infty}[(x^3-x^2+\frac{x}{2})e^{\frac{1}{x}}-\sqrt{x^6+1}]
$$

在 Input 中输入

```python
(x**3-x**2+2/x)**E**(1/x)-sqrt(x**6+1)
```

在 Symbols 中输入

```
x
```

在极限中输入

```
x oo
```

最后点击 Limit。

## 存在的问题

软件还存在许多功能上的不足和问题，

例如：

1. 软件还无法完成撤销恢复的操作；
2. 软件没有内置的文档，需要手动打开目录下的 README.html；
3. 软件的输入还暂时无法转换为 $\LaTeX$ 公式；
4. 软件的输出渲染效果较差；
5. 输出的区域无法变换大小，如果输出结果无法在画布中放下，超出部分将会丢失，需要放大程序窗口后，重新计算并输出结果。
6. 软件还没有达到我想要的完全直观的 GUI 效果。
7. 软件的核心计算完全依赖于 Sympy 库，由于数学情况实在太多，难免会出现一些意料之外的结果或错误。
8. 程序在无法输出时没有提示帮助使用者判断是在运算中还是由于语法错误。
9. 无法终止运算。

我将会在后续的更新中不断加入新的功能并不断完善当前功能。
